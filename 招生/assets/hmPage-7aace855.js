import{V as O,W as U}from"./index-513bbaed.js";import{_ as E,d as g,r as h,v as P,I as T,a as u,z as K,w as n,e as V,b as l,g as y,t as N,J as j,K as R,B as q,p as W,f as D,V as B,L as A,o as L,c as _,H as w,s as M}from"./index-987701ae.js";/* empty css              */import{m as J}from"./index-3b04c4a4.js";import{n as G,o as H}from"./api-e1e47605.js";const F=j(()=>A(()=>Promise.resolve().then(()=>ge),void 0,import.meta.url)),Q={data(){return{showReplacement:!1}},components:{replacementComponent:F},setup(){const r=g.school.value.userId||(JSON.parse(localStorage.getItem("schooll"))||{}).userId||"无",s=g.school.value.schoolName||(JSON.parse(localStorage.getItem("schooll"))||{}).schoolName||"无",z=async o=>{G.api(o);const a=d.value.indexOf(o);a!==-1&&d.value.splice(a,1)},e=async()=>{var o=document.querySelector('input[type="text"]').value;console.log(o),H.api(o),console.log(g.stuadd.value),d.value=g.stuadd.value},m=h(!1),S=h([]),v=P({current:1,limit:10,total:100}),f=h([{title:"专业代码",width:"120px",key:"spmcode"},{title:"专业名称",width:"120px",key:"spmname"},{title:"操作",width:"40px",customSlot:"operator",key:"operator",fixed:"right",ignoreExport:!0}]),i=o=>{m.value=!0,setTimeout(()=>{d.value=t(o.current,o.limit),m.value=!1},1e3)},d=h([]),k=(o,a)=>{d.value.forEach(c=>{c.id===a.id&&R.msg("Success",{icon:1},()=>{c.status=o})})},C=()=>{R.msg(S.value,{area:"50%"})},t=(o,a)=>{for(var c=[],p=(o-1)*a+1,b=o*a,x=p;x<=b;x++)c.push({id:`${x}`,age:"18",sex:"男",name:`张三${x}`,email:"test@qq.com",remark:"花开堪折直须折,莫待无花空折枝.",joinTime:"2022-02-09",city:"浙江杭州",status:!0});return c};return{id:r,name:s,stud:z,cha:e,columns:f,dataSource:d,selectedKeys:S,page:v,change:i,changeStatus:k,remove:C}}},X={class:"container-demo"},Y={class:"wordallbox",id:"wordallbox"},Z={class:"ttbox"};function $(r,s,z,e,m,S){const v=J,f=q,i=W,d=D,k=B,C=O,t=T("Some"),o=T("replacementComponent");return m.showReplacement?(u(),K(o,{key:1})):(u(),K(t,{key:0},{default:n(()=>[V("div",X,[l(v,{theme:"green"},{title:n(()=>[y(" 欢迎:"+N(e.name),1)]),_:1}),V("div",Y,[l(f,{placeholder:"提示信息",class:"shuru",type:"text"}),l(i,{type:"primary",radius:"",onClick:e.cha},{default:n(()=>[y("查询")]),_:1},8,["onClick"])]),l(d,{"border-style":"dashed","border-width":"3px",theme:"green"}),V("div",Z,[l(C,{resize:!0,height:"100%",columns:e.columns,loading:r.loading,"data-source":e.dataSource,"selected-keys":e.selectedKeys,"onUpdate:selectedKeys":s[0]||(s[0]=a=>e.selectedKeys=a),onChange:e.change,onSortChange:r.sortChange},{status:n(({row:a})=>[l(k,{"model-value":a.status,onChange:c=>e.changeStatus(c,a)},null,8,["model-value","onChange"])]),operator:n(({row:a})=>[l(i,{size:"xs",type:"primary",onClick:c=>e.stud(a)},{default:n(()=>[y("添加")]),_:2},1032,["onClick"])]),o2erator:n(({row:a})=>[l(i,{size:"xs",type:"primary"},{default:n(()=>[y("添加")]),_:1})]),_:1},8,["columns","loading","data-source","selected-keys","onChange","onSortChange"])]),l(d,{"border-style":"dashed","border-width":"3px",theme:"green"}),l(i,{class:"back",type:"primary",onClick:s[1]||(s[1]=a=>m.showReplacement=!m.showReplacement)},{default:n(()=>[y("返回")]),_:1})])]),_:1}))}const ee=E(Q,[["render",$]]);const te={components:{ReplacementComponent:ee},data(){return{showReplacement:!1}},setup(){const r=h([]),s=g.school.value.userId||(JSON.parse(localStorage.getItem("schooll"))||{}).userId||"无",z=g.school.value.schoolName||(JSON.parse(localStorage.getItem("schooll"))||{}).schoolName||"无",e=async()=>{var p;const a=M.supapi+"/api/SecondaryEnrollment/getprofessionalplans?transcribe=1",c={method:"GET",headers:{Authorization:"Bearer "+(((p=JSON.parse(localStorage.getItem("taken")))==null?void 0:p.accessToken)||g.takel.accessToken)}};try{const x=await(await fetch(a,c)).json();g.stuone.value=x.data,r.value=g.stuone.value,console.log(r.value)}catch(b){console.log("数据获取失败",b)}};L(()=>{e()});const m=h([{value:1,label:"",closable:!1}]),S=h(""),v=h(!1),f=h([]),i=P({current:1,limit:10,total:100}),d=h([{title:"专业代码",width:"50px",key:"spmcode",fixed:"left",sort:"desc"},{title:"专业名称",width:"50px",key:"spmname",sort:"desc"},{title:"原计划数",width:"50px",key:"orginal_plan_number"},{title:"拟计划数",width:"50px",key:"planned_number",totalRow:!0},{title:"专业备注",width:"50px",key:"zybz",totalRow:!0,customSlot:"zybz"},{title:"状态",width:"40px",customSlot:"word3",key:"state"}]),k=a=>{v.value=!0,setTimeout(()=>{r.value=o(a.current,a.limit),v.value=!1},1e3)},C=(a,c)=>{r.value.forEach(p=>{p.id===c.id&&R.msg("Success",{icon:1},()=>{p.status=a})})},t=()=>{R.msg(f.value,{area:"50%"})},o=(a,c)=>{for(var p=[],b=(a-1)*c+1,x=a*c,I=b;I<=x;I++)p.push({id:`${I}`,age:"18",sex:"男",name:`张三${I}`,email:"test@qq.com",remark:"花开堪折直须折,莫待无花空折枝.",joinTime:"2022-02-09",city:"浙江杭州",status:!0});return p};return{id:s,name:z,data1:m,inputValue1:S,columns:d,dataSource:r,selectedKeys:f,page:i,change:k,changeStatus:C,remove:t}}},oe={key:0},ae={class:"container-demo"},ne={style:{height:"800px"}},se=V("p",null,"不可操作",-1),le={key:0,id:"WcCc0",style:{color:"rgb(123, 123, 123)"}},re={key:1,id:"WcCc1",style:{color:"rgb(36, 135, 255)"}},ce={key:2,id:"WcCc2",style:{color:"rgb(26,188,156)"}},de={key:3,id:"WcCc3",style:{color:"rgb(248, 50, 10)"}},ie={key:4,id:"WcCc4",style:{color:"rgb(36, 135, 255)"}},ue={key:5,id:"WcCc5",style:{color:"rgb(0, 0, 0)"}},me={key:0},pe={key:1},_e={key:1,class:"replacement-wrapr"};function he(r,s,z,e,m,S){const v=J,f=B,i=W,d=U,k=O,C=T("ReplacementComponent");return m.showReplacement?(u(),_("div",_e,[l(C)])):(u(),_("div",oe,[V("div",ae,[l(v,{theme:"green"},{title:n(()=>[y(" 欢迎:"+N(e.name),1)]),_:1}),V("div",ne,[l(k,{resize:!0,height:"90%",columns:e.columns,loading:r.loading,"default-toolbar":!0,"data-source":e.dataSource,"selected-keys":e.selectedKeys,"onUpdate:selectedKeys":s[5]||(s[5]=t=>e.selectedKeys=t),onChange:e.change,onSortChange:r.sortChange},{date:n(({row:t})=>[]),status:n(({row:t})=>[l(f,{"model-value":t.status,onChange:o=>e.changeStatus(o,t)},null,8,["model-value","onChange"])]),toolbar:n(()=>[l(i,{size:"sm",type:"primary",onClick:s[0]||(s[0]=t=>m.showReplacement=!0)},{default:n(()=>[y("添加专业")]),_:1})]),operator:n(({row:t})=>[se,l(i,{size:"xs",type:"primary"},{default:n(()=>[y("修改")]),_:1}),l(i,{size:"xs"},{default:n(()=>[y("删除")]),_:1})]),Input1:n(({row:t})=>[l(d,{modelValue:e.data1,"onUpdate:modelValue":s[1]||(s[1]=o=>e.data1=o),inputValue:r.inputValue2,"onUpdate:inputValue":s[2]||(s[2]=o=>r.inputValue2=o),allowClear:"",placeholder:"请输入",style:{width:"180px"}},null,8,["modelValue","inputValue"])]),Input2:n(({row:t})=>[l(d,{modelValue:e.data1,"onUpdate:modelValue":s[3]||(s[3]=o=>e.data1=o),inputValue:e.inputValue1,"onUpdate:inputValue":s[4]||(s[4]=o=>e.inputValue1=o),allowClear:"",placeholder:"请输入",style:{width:"180px"}},null,8,["modelValue","inputValue"])]),word3:n(({row:t})=>[t.state===0?(u(),_("p",le," 待提交 ")):w("",!0),t.state===1?(u(),_("p",re," 审核中 ")):w("",!0),t.state===2?(u(),_("p",ce," 待核对 ")):w("",!0),t.state===3?(u(),_("p",de," 已退回 ")):w("",!0),t.state===4?(u(),_("p",ie," 待定稿 ")):w("",!0),t.state===5?(u(),_("p",ue," 已定稿 ")):w("",!0)]),zybz:n(({row:t})=>[t.zybz==null?(u(),_("p",me,"无")):(u(),_("p",pe,N(t.zybz),1))]),schoolSystem:n(({row:t})=>[y(N(t.schoolSystem)+"年 ",1)]),_:1},8,["columns","loading","data-source","selected-keys","onChange","onSortChange"])])])]))}const ye=E(te,[["render",he]]),ge=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"}));export{ye as default};
