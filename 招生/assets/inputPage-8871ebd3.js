import{_ as b,r as _,d as s,a as h,c as f,e as l,g as x,b as p,w as g,K as m,B as v,p as z,s as S}from"./index-987701ae.js";import{C as V}from"./index-189cdbbf.js";import{d as k}from"./api-e1e47605.js";const w={setup(){const r=_();r.value=s.rowschool.value.tuition;const e=_();return e.value=s.rowschool.value.zybz,{zybz:e,data1:r,stusure:async()=>{var n;console.log(s.rowschool.value);const o=document.querySelector(".xiubox1");document.querySelector(".xiubox2");var c=o.querySelector('input[type="number"]').value,u=document.querySelector(".layui-textarea").value;if(u.length>50)m.msg("备注不能超过50字");else if(c<0)m.msg("学费异常 重新输入");else{const i=S.supapi+"/api/SecondaryEnrollment/updataprofessionalplan",d={Tuition:c,Zybz:u,PPid:s.stuppid,transcribe:2},t={method:"POST",headers:{Authorization:"Bearer "+(((n=JSON.parse(localStorage.getItem("taken")))==null?void 0:n.accessToken)||s.takel.accessToken),"content-type":"application/json"},body:JSON.stringify(d)};fetch(i,t).then(a=>a.json()).then(a=>{m.msg(a.message),k.api()}).then(a=>{console.log(a)})}}}}},B={class:"all1box"},N={class:"xiubox1"},T=l("span",null,"学费",-1),q={class:"xiubox2"},C=l("span",null,"专业备注",-1);function P(r,e,y,o,c,u){const n=v,i=V,d=z;return h(),f("div",B,[l("div",N,[T,x(),p(n,{modelValue:o.data1,"onUpdate:modelValue":e[0]||(e[0]=t=>o.data1=t),type:"number",max:300,min:0},null,8,["modelValue"])]),l("div",q,[C,p(i,{id:"ni",modelValue:o.zybz,"onUpdate:modelValue":e[1]||(e[1]=t=>o.zybz=t),placeholder:"请输入描述"},null,8,["modelValue"])]),p(d,{style:{display:"flex",margin:"0 auto"},border:"green",onClick:o.stusure},{default:g(()=>[x("确定")]),_:1},8,["onClick"])])}const J=b(w,[["render",P]]);export{J as a};
